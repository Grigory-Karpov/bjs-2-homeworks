class Student {
  constructor(name) {
    this.name = name;
    this.marks = {}; // Свойство для хранения оценок по предметам
  }

  addMark(mark, subject) {
    // Валидация оценки: должна быть от 2 до 5
    if (mark < 2 || mark > 5) {
      return;
    }

    // Если предмета еще нет в журнале, создаем для него пустой массив
    if (!this.marks[subject]) {
      this.marks[subject] = [];
    }

    // Добавляем оценку в массив соответствующего предмета
    this.marks[subject].push(mark);
  }

  getAverageBySubject(subject) {
    // Проверка наличия предмета и оценок по нему
    if (!this.marks[subject] || this.marks[subject].length === 0) {
      return 0;
    }

    // Считаем сумму оценок через reduce
    const sum = this.marks[subject].reduce((acc, mark) => acc + mark, 0);
    
    // Возвращаем среднее
    return sum / this.marks[subject].length;
  }

  getAverage() {
    // Получаем список всех названий предметов
    const subjects = Object.keys(this.marks);

    if (subjects.length === 0) {
      return 0;
    }

    // Считаем сумму средних оценок по всем предметам
    const totalAverage = subjects.reduce((acc, subject) => {
      return acc + this.getAverageBySubject(subject);
    }, 0);

    // Возвращаем среднее значение среди всех предметов
    return totalAverage / subjects.length;
  }
}
